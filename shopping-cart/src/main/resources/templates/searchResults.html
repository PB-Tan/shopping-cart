<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Search Results</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <style>
      body {
        background: #f5f5f5;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      }

      .search-container {
        padding: 40px 50px;
        max-width: 1400px;
        margin: 0 auto;
      }

      .search-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: #2c3e50;
        margin-bottom: 40px;
        letter-spacing: -0.5px;
      }

      .no-results-container {
        background: white;
        border-radius: 20px;
        padding: 80px 40px;
        text-align: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        margin-top: 60px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }

      .no-results-icon {
        font-size: 5rem;
        margin-bottom: 20px;
        opacity: 0.3;
      }

      .no-results-title {
        font-size: 2rem;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 15px;
      }

      .no-results-text {
        font-size: 1.1rem;
        color: #7f8c8d;
        margin-bottom: 30px;
      }

      .btn-back {
        background: #2c3e50;
        color: white;
        border: none;
        border-radius: 10px;
        padding: 14px 40px;
        font-weight: 600;
        font-size: 0.95rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
      }

      .btn-back:hover {
        background: #34495e;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(44, 62, 80, 0.3);
        text-decoration: none;
      }

      .product-card {
        position: relative;
        background: white;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        border: 1px solid #e8e8e8;
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      .product-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
      }

      .product-image-container {
        width: 100%;
        height: 300px;
        background: #fafafa;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        border-bottom: 1px solid #f0f0f0;
      }

      .product-card img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        transition: transform 0.4s ease;
      }

      .product-card:hover img {
        transform: scale(1.05);
      }

      .product-body {
        padding: 24px;
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      .product-name {
        font-size: 1.25rem;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 12px;
        line-height: 1.4;
        min-height: 60px;
      }

      .product-description {
        font-size: 0.95rem;
        color: #7f8c8d;
        margin-bottom: 16px;
        line-height: 1.6;
        flex: 1;
      }

      .product-price {
        font-size: 1.75rem;
        font-weight: 700;
        color: #2c3e50;
        margin-bottom: 20px;
        letter-spacing: -0.5px;
      }

      .btn-view-detail {
        background: #2c3e50;
        color: white;
        border: none;
        border-radius: 10px;
        padding: 14px 28px;
        font-weight: 600;
        font-size: 0.95rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        transition: all 0.3s ease;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        width: 100%;
      }

      .btn-view-detail:hover {
        background: #34495e;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(44, 62, 80, 0.3);
        text-decoration: none;
      }

      @media (max-width: 992px) {
        .search-container {
          padding: 30px 20px;
        }

        .search-title {
          font-size: 2rem;
        }

        .no-results-container {
          padding: 60px 30px;
        }
      }
    </style>
  </head>

  <body>
    <div th:replace="fragments/layout :: siteHeader"></div>

    <div class="search-container">
      <h2 class="search-title">Search Results</h2>

      <!-- No Results Display -->
      <div th:if="${#lists.isEmpty(products)}" class="no-results-container">
        <div class="no-results-icon">üîç</div>
        <h3 class="no-results-title">No Results Found</h3>
        <p class="no-results-text">We couldn't find any products matching your search. Try different keywords or browse our catalogue.</p>
        <a th:href="@{/catalogue}" class="btn-back">Back to Catalogue</a>
      </div>

      <!-- Results Display -->
      <div th:if="${not #lists.isEmpty(products)}">
        <div class="row">
          <div class="col-lg-4 col-md-6 col-sm-12 mb-4" th:each="p : ${products}">
            <div class="product-card">
              <div class="product-image-container">
                <img
                  th:src="@{${p.imageUrl}}"
                  alt="product"
                />
              </div>
              <div class="product-body">
                <h5 class="product-name" th:text="${p.name}"></h5>
                <p class="product-description" th:text="${p.description}"></p>
                <p
                  class="product-price"
                  th:text="${'$' + #numbers.formatDecimal(p.unitPrice,0,'COMMA',2, 'POINT')}"
                ></p>
                <a th:href="@{/catalogue/{id}(id=${p.id})}" class="btn-view-detail"
                  >View Detail</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
