<header
  class="sc-shop"
  xmlns:th="http://www.thymeleaf.org"
  th:fragment="siteHeader"
>
  <style>
    /*
      Scoped styles: all selectors are prefixed with .sc-shop
      to avoid conflicts with Bootstrap or any host page styles.
    */
    .sc-shop,
    .sc-shop * {
      box-sizing: border-box;
    }
    .sc-shop {
      --sc-accent: #2c7a7b;
      --sc-bg-dark: #2c3e50;
      --sc-bg-light: #ffffff;
      --sc-border: #e5e7eb;
      --sc-text: #111827;
      --sc-muted: #6b7280;
      --sc-dd-gap: 6px;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial,
        sans-serif;
      color: var(--sc-text);
    }
    .sc-shop a {
      color: inherit;
      text-decoration: none;
    }

    /* Top bar */
    .sc-shop .sc-topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 8px 12px;
      background: #f8fafc;
      border-bottom: 1px solid var(--sc-border);
      font-size: 12px;
    }
    .sc-shop .sc-topbar-left {
      font-weight: 600;
      color: var(--sc-accent);
    }
    .sc-shop .sc-topbar-right {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    /* Dropdown (no Bootstrap classes used) */
    .sc-shop .sc-dropdown {
      position: relative;
      padding-bottom: var(--sc-dd-gap);
    }
    .sc-shop .sc-dropdown-toggle {
      display: inline-block;
      padding: 6px 10px;
      border-radius: 4px;
      cursor: pointer;
      color: var(--sc-text);
    }
    .sc-shop .sc-dropdown-toggle:focus {
      outline: 2px solid var(--sc-accent);
      outline-offset: 2px;
    }
    .sc-shop .sc-dropdown-menu {
      position: absolute;
      right: 0;
      top: calc(100% + var(--sc-dd-gap));
      min-width: 200px;
      background: var(--sc-bg-light);
      border: 1px solid var(--sc-border);
      border-radius: 6px;
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.12);
      list-style: none;
      margin: 0;
      padding: 6px 0;
      display: none;
      z-index: 1000;
    }
    /* Hover bridge to prevent closing when traversing the gap */
    .sc-shop .sc-dropdown-menu::before {
      content: "";
      position: absolute;
      top: calc(-1 * var(--sc-dd-gap));
      left: 0;
      right: 0;
      height: var(--sc-dd-gap);
    }
    .sc-shop .sc-dropdown:hover .sc-dropdown-menu,
    .sc-shop .sc-dropdown:focus-within .sc-dropdown-menu {
      display: block;
    }
    .sc-shop .sc-dropdown-menu li {
      margin: 0;
    }
    .sc-shop .sc-dropdown-menu a {
      display: block;
      padding: 8px 12px;
      color: var(--sc-text);
    }
    .sc-shop .sc-dropdown-menu a:hover {
      background: #f3f4f6;
    }

    .sc-shop .sc-create-account {
      padding: 6px 10px;
      border-radius: 4px;
      background: var(--sc-accent);
      color: #fff;
      font-weight: 600;
    }
    .sc-shop .sc-create-account:hover {
      filter: brightness(0.95);
    }

    /* Banner with search and logo */
    .sc-shop .sc-banner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 16px 12px;
      border-bottom: 1px solid var(--sc-border);
      background: var(--sc-bg-light);
    }
    .sc-shop .sc-search {
      display: flex;
      align-items: stretch;
      flex: 1 1 520px;
      max-width: 640px;
    }
    .sc-shop .sc-search input {
      flex: 1 1 auto;
      padding: 10px 12px;
      border: 1px solid #d1d5db;
      border-right: none;
      border-radius: 8px 0 0 8px;
      font-size: 14px;
    }
    .sc-shop .sc-search button {
      width: 44px;
      border: 1px solid #d1d5db;
      border-left: none;
      border-radius: 0 8px 8px 0;
      background: #ffffff;
      cursor: pointer;
    }
    .sc-shop .sc-search button::before {
      content: "";
      display: block;
      width: 20px;
      height: 20px;
      margin: 0 auto;
      background-repeat: no-repeat;
      background-position: center;
      background-size: 20px;
      background-image: url('data:image/svg+xml,%3Csvg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="%23666" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"%3E%3Ccircle cx="11" cy="11" r="7"/%3E%3Cline x1="21" y1="21" x2="16.65" y2="16.65"/%3E%3C/svg%3E');
    }
    .sc-shop .sc-logo img {
      display: block;
      height: 48px;
      width: auto;
      border-radius: 4px;
    }

    /* Primary nav */
    .sc-shop .sc-nav {
      background: var(--sc-bg-dark);
    }
    .sc-shop .sc-nav > ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      flex-wrap: wrap;
    }
    .sc-shop .sc-nav > ul > li {
      position: relative;
    }
    .sc-shop .sc-nav a {
      color: #fff;
      display: block;
      padding: 12px 16px;
    }
    .sc-shop .sc-nav > ul > li:hover > a {
      background: rgba(255, 255, 255, 0.08);
    }
    .sc-shop .sc-nav li ul {
      position: absolute;
      top: 100%;
      left: 0;
      min-width: 220px;
      background: var(--sc-bg-light);
      color: var(--sc-text);
      border: 1px solid var(--sc-border);
      border-radius: 6px;
      list-style: none;
      padding: 8px 0;
      margin: 0;
      display: none;
      box-shadow: 0 12px 28px rgba(0, 0, 0, 0.16);
      z-index: 900;
    }
    .sc-shop .sc-nav li:hover > ul {
      display: block;
    }
    .sc-shop .sc-nav li ul li a {
      color: var(--sc-text);
      padding: 10px 14px;
    }
    .sc-shop .sc-nav li ul li a:hover {
      background: #f6f7f9;
    }
    .sc-shop .sc-nav li ul li ul {
      left: 100%;
      top: 0;
    }

    /* Small screens */
    @media (max-width: 640px) {
      .sc-shop .sc-banner {
        flex-direction: column;
        align-items: stretch;
      }
      .sc-shop .sc-topbar {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
      }
    }
  </style>

  <div class="sc-topbar">
    <div class="sc-topbar-left">FREE SHIPPING ON ORDERS OVER $99</div>
    <div class="sc-topbar-right">
      <div class="sc-dropdown">
        <a
          href="#"
          class="sc-dropdown-toggle"
          role="button"
          aria-haspopup="true"
          aria-expanded="false"
          >My Account</a
        >
        <ul class="sc-dropdown-menu" role="menu">
          <li><a th:href="@{/cart}">Shopping cart</a></li>
          <li><a href="#">Account Settings</a></li>
          <li><a th:href="@{/order/history}">Orders</a></li>
          <li><a th:href="@{/favorites}">Favourites</a></li>
          <li><a href="#">Notifications</a></li>
          <li><a th:href="@{/review/my-reviews}">My reviews</a></li>
          <li><a th:href="@{/logout}">Logout</a></li>
        </ul>
      </div>
      <a href="#" class="sc-create-account">Create An Account</a>
    </div>
  </div>

  <div class="sc-banner">
    <form th:action="@{/catalogue/search}" method="GET">
      <div class="row mt-4">
        <div class="col-auto">
          <b>Search By:</b>

          <select name="searchby">
            <option value="name">Product Name</option>
            <option value="category">Product Category</option>
          </select>
        </div>

        <div class="col-auto">
          <label for="keyword"><b>Enter Keyword: </b></label>
          <input type="text" name="keyword" placeholder="Enter Keyword" />
        </div>

        <div class="col-auto">
          <input type="submit" value="Search" />
        </div>
      </div>
    </form>
    <div class="sc-logo" style="text-align: center">
      <img th:src="@{/img/random-company-logo.jpg}" alt="Company logo" />
    </div>
  </div>

  <nav class="sc-nav" aria-label="Primary">
    <ul>
      <li>
        <a th:href="@{/catalogue}">Home</a>
      </li>
      <li>
        <a href="#">Products</a>
        <ul>
          <li>
            <a th:href="@{/catalogue}">All products</a>
          </li>
          <li>
            <a href="#">Fruits and Vegetables</a>
          </li>
          <li>
            <a href="#">Beverages</a>
          </li>
          <li>
            <a href="#">Fresh Meats</a>
          </li>
          <li>
            <a href="#">Frozen Products</a>
          </li>
        </ul>
      </li>
      <li><a href="#">Promotions</a></li>
      <li><a href="#">Contact</a></li>
    </ul>
  </nav>
</header>
